<!doctype html>
<html>
<head>
  <meta charset="utf-8"  />
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-112400982-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-112400982-1');
  </script>
  <!-- End Google Analytics -->
  <link rel="stylesheet" href="../css/normalize.css">
  <link rel="stylesheet" href="../css/style.css">
  <meta name="viewport" content="width=device-width">
  <title>Tilbakemelding</title>
</head>
<body>
<div>
  <header class="header" role="banner">
    <div class="meta header-meta">
      <div class="header-bakgrunn"></div>
  
      <div class="header-meta-innhold">
        <div class="header-logo">
        </div>
  
        <div class="header-apptittel">
          <span class="header-applikasjonsnavn">Folkeregisteret</span>
          Api dokumentasjon
        </div>
      </div>
    </div>
  
    <div class="header-sidetittel">
      <h1>
        <span class="header-undertittel">Tilbakemelding</span>
      </h1>
    </div>
  </header>

  <div class="content">
    <div class="meta">
      <div class="sideblokk-seksjon navig">
        <div><a class="index" href="../om-tjenestene">Om tjenestene</a></div>
          <a href="../informasjonsfelter-og-statuskoder">Informasjonsfelter og statuskoder</a>
          <a href="../informasjonsmodell">Informasjonsmodell</a>
          <a href="../sikkerhet">Sikkerhet</a>
          <a href="../taushetsbelagte-opplysninger">Taushetsbelagte opplysninger</a>
        <div><a class="index" href="../produsenttjenester">Produsenttjenester</a></div>
          <a href="../mottak">Mottak</a>
          <a href="../tilbakemelding">Tilbakemelding</a>
        <div><a class="index" href="../konsumenttjenester">Konsumenttjenester</a></div>
          <a href="../dataminimering">Dataminimering</a>
          <a href="../funksjonell-beskrivelse">Funksjonell beskrivelse</a>
          <a href="../hendelsesliste">Hendelsesliste</a>
          <a href="../maskinporten">Maskinporten</a>
          <a href="../oppslag">Oppslag</a>
          <a href="../uttrekk">Uttrekk</a>
        <div><a class="index" href="../test">Test</a></div>
          <a href="../test-for-konsumenter">Test for konsumenter</a>
          <a href="../test-for-produsenter">Test for produsenter</a>
          <a href="../testdata">Testdata</a>
        <div><a class="index" href="../sporsmal-og-svar">Spørsmål og svar</a></div>
      </div>
    </div>
    <div class="data">
      <div class="innhold-blokk">
        <div class="innhold-blokk-innhold">
          <h1 id="grensesnittbeskrivelse">Grensesnittbeskrivelse</h1>
    <p>Folkeregisterets tilbakemeldingstjeneste tilbyr en hendelsesfeed med informasjon om status på innsendinger. Den kan navigeres gjennom sekvensnummer. </p>
    <p>Tjenestenes endepunkt:</p>
    <p><code>GET {miljø}/folkeregisteret/tilbakemelding/api/{versjon}/hendelser?seq={startsekvensnummer}&amp;direction={nyere/eldre}&amp;pageSize=100</code></p>
    <p>Eksempel på curl-kommando som kan benyttes for å teste tjenesten:</p>
    <p><code>$ curl -k -v -X HEAD --cert datakonsument.cer --key datakonsument.key &quot;https://folkeregisteret-api-ekstern.sits.no/folkeregisteret/tilbakemelding/api/v2/hendelser/&quot;</code></p>
    <h2 id="headere">Headere</h2>
    <p><strong>Accept</strong></p>
    <p>Verdien i denne headeren angir ønsket dataformat. Det er støtte for application/json og application/xml.</p>
    <p>Dersom man velger application/xml brukes følgende kontrakter i svaret fra tjenesten:</p>
    <p>Feeden er i henhold til <a href="http://www.ietf.org/rfc/rfc4287.txt">Atom spesifikasjonen</a>. Gyldige elementer (angitt i content-delen av feeden) er </p>
    <ul>
    <li><a href="../kontrakter/HendelserISakOmFolkeregistrering_1.0.xsd">HendelserISakOmFolkeregistrering_v1</a></li>
    <li><a href="../kontrakter/HendelserISakOmDNummerRekvisisjon_3.0.xsd">HendelserISakOmDNummerRekvisisjon_v3</a></li>
    <li><a href="../kontrakter/HendelserISakOmEndringAvDNummerPerson_1.0.xsd">HendelserISakOmEndringAvDNummerPerson_v1</a></li>
    </ul>
    <p><strong>If-None-Match</strong></p>
    <p>Denne verdien skal settes lik <strong>ETag</strong>-header fra siste respons fra tjenesten. Se <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag">ETag</a> for mer informasjon om bruk av ETag.</p>
    <h2 id="eksempel-p-respons-fra-tjenesten">Eksempel på respons fra tjenesten</h2>
    <p>Under finnes eksempler på respons fra tjenesten.</p>
    <h3 id="statuskode-200">Statuskode 200</h3>
    <p>Ved statuskode 200 inneholder <em>body</em> i svaret en liste med tilbakemeldinger gitt at det finnes noen å hente som samsvarer med spørringen i URL.</p>
    <p>Eksempel på en slik liste med tilbakemeldinger gitt at application/json er angitt header <em>Accept</em>.</p>
    <pre><code class="lang-json">
    [
      {
        &quot;title&quot;: &quot;Hendelse i sak&quot;,
        &quot;id&quot;: &quot;5&quot;,
        &quot;updated&quot;: &quot;2016-12-21T09:01:34.496Z&quot;,
        &quot;hendelseinfo&quot;: {
          &quot;sak&quot;: {
            &quot;saksnummer&quot;: &quot;117152&quot;,
            &quot;opprettet&quot;: &quot;2016-12-21T09:01:30.687Z&quot;,
            &quot;avsendersSaksreferanse&quot;: &quot;201216/fil-7-wf&quot;,
            &quot;meldingsreferanse&quot;: {
              &quot;avsendersMeldingsidentifikator&quot;: &quot;2112116 - avviksmerknad om dublett og merknad om forkortet navn&quot;,
              &quot;folkeregisterReferanse&quot;: &quot;ab567940-cfd6-4a0d-aec6-44999e5aa4b1&quot;
            }
          },
          &quot;sakTilManuellBehandling&quot;: {
            &quot;saksfrist&quot;: &quot;2016-12-26&quot;,
            &quot;begrunnelse&quot;: &quot;muligDublett&quot;
          }
        }
      },
      {
        &quot;title&quot;: &quot;Hendelse i sak&quot;,
        &quot;id&quot;: &quot;6&quot;,
        &quot;updated&quot;: &quot;2016-12-21T09:02:03.884Z&quot;,
        &quot;hendelseinfo&quot;: {
          &quot;sak&quot;: {
            &quot;saksnummer&quot;: &quot;117152&quot;,
            &quot;opprettet&quot;: &quot;2016-12-21T09:01:30.687Z&quot;,
            &quot;avsendersSaksreferanse&quot;: &quot;201216/fil-7-wf&quot;,
            &quot;meldingsreferanse&quot;: {
              &quot;avsendersMeldingsidentifikator&quot;: &quot;2112116 - avviksmerknad om dublett og merknad om forkortet navn&quot;,
              &quot;folkeregisterReferanse&quot;: &quot;ab567940-cfd6-4a0d-aec6-44999e5aa4b1&quot;
            }
          },
          &quot;saksbeslutning&quot;: {
            &quot;beslutning&quot;: &quot;godkjent&quot;,
            &quot;beslutningstidspunkt&quot;: &quot;2016-12-21T09:02:03.857Z&quot;,
            &quot;skalTildeleDNummer&quot;: {
              &quot;dNummer&quot;: &quot;70107300943&quot;,
              &quot;registreringstidspunkt&quot;: &quot;2016-12-20T23:00:00Z&quot;,
              &quot;gyldighetstidspunkt&quot;: &quot;2016-12-20T23:00:00Z&quot;,
              &quot;tildeltDnummerAvvikerFraFoedselsdato&quot;: false
            }
          }
        }
      },
      {
        &quot;title&quot;: &quot;Hendelse i sak&quot;,
        &quot;id&quot;: &quot;7&quot;,
        &quot;updated&quot;: &quot;2016-12-21T09:03:48.546Z&quot;,
        &quot;hendelseinfo&quot;: {
          &quot;sak&quot;: {
            &quot;saksnummer&quot;: &quot;117155&quot;,
            &quot;opprettet&quot;: &quot;2016-12-21T09:03:45.379Z&quot;,
            &quot;avsendersSaksreferanse&quot;: &quot;201216/fil-8-wf&quot;,
            &quot;meldingsreferanse&quot;: {
              &quot;avsendersMeldingsidentifikator&quot;: &quot;2112116 - avviksmerknad om dublett og merknad om forkortet navn&quot;,
              &quot;folkeregisterReferanse&quot;: &quot;57471707-69cf-4759-b549-3d3e2d2873fa&quot;
            }
          },
          &quot;sakTilManuellBehandling&quot;: {
            &quot;saksfrist&quot;: &quot;2016-12-26&quot;,
            &quot;begrunnelse&quot;: &quot;muligDublett&quot;
          }
        }
      }
    ]
    </code></pre>
    <h3 id="statuskode-304">Statuskode 304</h3>
    <p>Statuskode 304 (<em>not modified</em>) returneres hvis kallet til tjenesten inkluderte headeren <strong>If-None-Match</strong> og denne er lik den aktuelle ETag for etterspurte ressurs. Det betyr at det ikke er kommet noen nye innslag på feeden siden forrige kall.</p>
    <h3 id="feilkoder">Feilkoder</h3>
    <p>Hvis statuskode hverken er 200 eller 304, men man får svar fra applikasjonen, så returneres en datastruktur som ser slik ut</p>
    <pre><code class="lang-json">
    {
      &quot;kode&quot;: &quot;FREG-001&quot;,
      &quot;melding&quot;: &quot;Feil i tjenesten. Vennligst prøv igjen seinere.&quot;
    }
    </code></pre>
    <table>
    <thead>
    <tr>
    <th>HTTP Statuskode</th>
    <th>Forklaring</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>401</td>
    <td>Autentiseringsinformasjon mangler.</td>
    </tr>
    <tr>
    <td>403</td>
    <td>Virksomheten er autentisert men mangler autorisasjon for den angitte tjenesten.</td>
    </tr>
    <tr>
    <td>404</td>
    <td>Feil uri brukt.</td>
    </tr>
    <tr>
    <td>406</td>
    <td>Oppgitt Accept-header inneholder ikke &#39;application/atom+xml&#39;, &#39;application/xml&#39; eller &#39;application/json&#39;.</td>
    </tr>
    <tr>
    <td>429</td>
    <td>For mange kall er gjort på for kort tid. Vent i minimum antall ms. angitt i Retry-After-header før neste request utføres.</td>
    </tr>
    <tr>
    <td>500</td>
    <td>Feil i tjenesten. Vennligst prøv igjen seinere.</td>
    </tr>
    </tbody>
    </table>
    <h2 id="milj-er">Miljøer</h2>
    <table>
    <thead>
    <tr>
    <th>Miljø</th>
    <th>URL</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>Test</td>
    <td><a href="https://folkeregisteret-api-ekstern.sits.no/">https://folkeregisteret-api-ekstern.sits.no/</a></td>
    </tr>
    <tr>
    <td>Produksjon</td>
    <td><a href="https://folkeregisteret.api.skatteetaten.no/">https://folkeregisteret.api.skatteetaten.no/</a></td>
    </tr>
    </tbody>
    </table>
    
        </div>
      </div>
    </div>
  </div>
</div>
</body>
</html>
