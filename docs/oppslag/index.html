<!doctype html>
<html>
<head>
  <meta charset="utf-8"  />
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-112400982-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-112400982-1');
  </script>
  <!-- End Google Analytics -->
  <link rel="stylesheet" href="../css/normalize.css">
  <link rel="stylesheet" href="../css/style.css">
  <meta name="viewport" content="width=device-width">
  <title>Oppslag</title>
</head>
<body>
<div>
  <header class="header" role="banner">
    <div class="meta header-meta">
      <div class="header-bakgrunn"></div>
  
      <div class="header-meta-innhold">
        <div class="header-logo">
        </div>
  
        <div class="header-apptittel">
          <span class="header-applikasjonsnavn">Folkeregisteret</span>
          Api dokumentasjon
        </div>
      </div>
    </div>
  
    <div class="header-sidetittel">
      <h1>
        <span class="header-undertittel">Oppslag</span>
      </h1>
    </div>
  </header>

  <div class="content">
    <div class="meta">
      <div class="sideblokk-seksjon navig">
        <div><a class="index" href="../om-tjenestene">Om tjenestene</a></div>
          <a href="../informasjonsfelter-og-statuskoder">Informasjonsfelter og statuskoder</a>
          <a href="../informasjonsmodell">Informasjonsmodell</a>
          <a href="../sikkerhet">Sikkerhet</a>
          <a href="../taushetsbelagte-opplysninger">Taushetsbelagte opplysninger</a>
        <div><a class="index" href="../produsenttjenester">Produsenttjenester</a></div>
          <a href="../mottak">Mottak</a>
          <a href="../tilbakemelding">Tilbakemelding</a>
        <div><a class="index" href="../konsumenttjenester">Konsumenttjenester</a></div>
          <a href="../avtaler">Avtaler</a>
          <a href="../dataminimering">Dataminimering</a>
          <a href="../funksjonell-beskrivelse">Funksjonell beskrivelse</a>
          <a href="../hendelsesliste">Hendelsesliste</a>
          <a href="../maskinporten">Maskinporten</a>
          <a href="../oppslag">Oppslag</a>
          <a href="../uttrekk">Uttrekk</a>
        <div><a class="index" href="../test">Test</a></div>
          <a href="../test-for-konsumenter">Test for konsumenter</a>
          <a href="../test-for-produsenter">Test for produsenter</a>
          <a href="../testdata">Testdata</a>
        <div><a class="index" href="../sporsmal-og-svar">Spørsmål og svar</a></div>
      </div>
    </div>
    <div class="data">
      <div class="innhold-blokk">
        <div class="innhold-blokk-innhold">
          <h1 id="grensesnittbeskrivelse">Grensesnittbeskrivelse</h1>
    <p>Oppslagstjenesten gir tilgang til data om en person. Tjenesten tilbyr to former for oppslag. </p>
    <ul>
    <li>Siste versjonen av en person. Dette er til enhver tid oppdaterte data om personen i henhold til Folkeregisteret. </li>
    <li>En versjonert utgave av en person som har vært eller er gyldig. </li>
    </ul>
    <p>For å nå tjenestene bygges URL opp slik:
    {miljø}/folkeregisteret/{rettighetspakke}/{versjon}/{ressurs}(? part = {entitet} &amp; part = {entitet} ...)</p>
    <p>Det er mulig å spesifisere hvilke data en ønsker returnert fra oppslaget, dette er nærmere beskrevet på siden om <a href="../dataminimering">dataminimering</a></p>
    <h2 id="ressurser">Ressurser</h2>
    <table>
    <thead>
    <tr>
    <th>Ressurs</th>
    <th>Beskrivelse</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>personer/{folkeregisteridentifikator}</td>
    <td>Siste versjon av en person</td>
    </tr>
    <tr>
    <td>personer/entydigsoek</td>
    <td>Entydig søk som returnerer siste versjon av en person</td>
    </tr>
    <tr>
    <td>personer/arkiv/{persondokumentidentifikator}</td>
    <td>Versjonert utgave av en person</td>
    </tr>
    <tr>
    <td>personer/bulkoppslag/</td>
    <td>Siste versjon av et sett med personer (gjelder kun rettighetspakke offentlig-med-hjemmel)</td>
    </tr>
    <tr>
    <td>personer/bulkoppslag/arkiv/</td>
    <td>Et sett med versjonerte utgaver av en person (gjelder kun rettighetspakke offentlig-med-hjemmel)</td>
    </tr>
    <tr>
    <td>personer/xsd</td>
    <td>Xsd (kontrakt) for person</td>
    </tr>
    </tbody>
    </table>
    <h3 id="om-entydig-s-k">Om entydig søk</h3>
    <p>Ved entydig søk må minst en av følgende parametere med entydig identifiserende informasjon være inkludert i URL&#39;en:</p>
    <ul>
    <li>identifikasjonsnummer</li>
    <li>utenlandskpersonidentifikasjon</li>
    <li>legitimasjonsdokument</li>
    <li>utlendingsmyndighetenesIdentifikasjonsnummer</li>
    </ul>
    <p>I tillegg må en av følgende ikke identifiserende være oppgitt:</p>
    <ul>
    <li>foedselsdato (gjelder ikke dersom identifikasjonsnummer (fnr/dnr) er oppgitt)</li>
    <li>navn</li>
    <li>adressenavn</li>
    <li>husnummer</li>
    </ul>
    <h2 id="rettighetspakker">Rettighetspakker</h2>
    <table>
    <thead>
    <tr>
    <th>Rettighetspakke</th>
    <th>Beskrivelse</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>offentlig-med-hjemmel/api/v1/</td>
    <td>Rettighetspakke for offentlige aktører med hjemmel i egen lov som gir rett til folkeregisterdata.</td>
    </tr>
    <tr>
    <td>offentlig-uten-hjemmel/api/v1/</td>
    <td>Rettighetspakke for offentlige aktører uten hjemmel i egen lov.</td>
    </tr>
    <tr>
    <td>finans-og-begrenset/api/v1/</td>
    <td>Rettighetspakke for virksomheter i finansbransjen samt virksomheter med tilgang til enkelte taushetsbelagte opplysninger.</td>
    </tr>
    </tbody>
    </table>
    <h2 id="milj-er">Miljøer</h2>
    <table>
    <thead>
    <tr>
    <th>Miljø</th>
    <th>URL</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>Produsenttest</td>
    <td><a href="https://folkeregisteret-api-ekstern.sits.no/">https://folkeregisteret-api-ekstern.sits.no/</a></td>
    </tr>
    <tr>
    <td>Konsumenttest</td>
    <td><a href="https://folkeregisteret-api-konsument.sits.no/">https://folkeregisteret-api-konsument.sits.no/</a></td>
    </tr>
    <tr>
    <td>Produksjon</td>
    <td><a href="https://folkeregisteret.api.skatteetaten.no/">https://folkeregisteret.api.skatteetaten.no/</a></td>
    </tr>
    <tr>
    <td>Playground</td>
    <td><a href="https://folkeregisteret-api-konsument-playground.sits.no/">https://folkeregisteret-api-konsument-playground.sits.no/</a></td>
    </tr>
    </tbody>
    </table>
    <p>Eksempel på curl-kommando som kan benyttes for å teste tjenesten:</p>
    <p><code>$ curl -k -v -X HEAD --cert datakonsument.cer --key datakonsument.key &quot;https://folkeregisteret-api-konsument.sits.no/folkeregisteret/offentlig-med-hjemmel/api/v1/personer&quot;</code></p>
    <p>Oppslag på xsd:</p>
    <p><code>$ curl -k -v -X GET --cert datakonsument.cer --key datakonsument.key &quot;https://folkeregisteret-api-konsument.sits.no/folkeregisteret/offentlig-med-hjemmel/api/v1/personer/xsd&quot;</code></p>
    <p>Eksempel på uthenting av folkeregisteridentifikator (fødselsnummer og dnummer) med historikk og gjeldende identitetsgrunnlag for en gitt person identifisert med folkeregisteridentifikatoren som settes i URL: </p>
    <p><code>$ curl -k -v -X GET --cert datakonsument.cer --key datakonsument.key &quot;https://folkeregisteret-api-konsument.sits.no/folkeregisteret/offentlig-med-hjemmel/api/v1/personer/{folkeregiseridentifikator}?part=historikk&amp;part=identitetsgrunnlag&quot;</code></p>
    <p>Eksempel på bulkoppslag på gitte folkeregisteridentifikatorer:</p>
    <p><code>$ curl -k -v -X POST --cert datakonsument.cer --key datakonsument.key -d &#39;{&quot;foedselsEllerDNummer&quot;: [&quot;{folkeregiseridentifikator}&quot;,&quot;{folkeregiseridentifikator}&quot;]}&#39; -H &quot;Content-Type: application/json&quot; &quot;https://folkeregisteret-api-konsument.sits.no/folkeregisteret/offentlig-med-hjemmel/api/v1/personer/bulkoppslag/&quot;</code></p>
    <p>Eksempel på bulkoppslag på gitte versjoner av persondokumenter:</p>
    <p><code>$ curl -k -v -X POST --cert datakonsument.cer --key datakonsument.key -d &#39;{&quot;dokumentidentifikator&quot;: [&quot;8446cf3bb867bfdb6de9cc9c17f6adf2&quot;,&quot;8446cf3bb867bfdb6de9cc9c17f6adf2&quot;]}&#39; -H &quot;Content-Type: application/json&quot; &quot;https://folkeregisteret-api-konsument.sits.no/folkeregisteret/offentlig-med-hjemmel/api/v1/personer/bulkoppslag/arkiv/&quot;</code></p>
    <h2 id="headere">Headere</h2>
    <p><strong>Accept</strong></p>
    <p>Verdien i denne headeren angir ønsket dataformat. Det er støtte for application/json (default) og application/xml.</p>
    <p><strong>Content-Type</strong></p>
    <p>For bulkoppslag gjøres det POST-requester, disse forventer at headeren Content-Type er satt. Det er støtte for application/json og application/xml (default).</p>
    <h2 id="eksempler-p-respons-fra-tjenesten">Eksempler på respons fra tjenesten</h2>
    <h3 id="statuskode-200">Statuskode 200</h3>
    <p>Eksempel på svar ved oppslag på en person (GET .../personer/09052400284):</p>
    <pre><code class="lang-json">
    {
        &quot;identifikasjonsnummer&quot;: [
            {
                &quot;ajourholdstidspunkt&quot;: &quot;2019-06-05T09:33:23+02:00&quot;,
                &quot;erGjeldende&quot;: true,
                &quot;kilde&quot;: &quot;dsf-folkeregister-synkronisering&quot;,
                &quot;gyldighetstidspunkt&quot;: &quot;2019-06-05T00:00:00+02:00&quot;,
                &quot;status&quot;: &quot;iBruk&quot;,
                &quot;foedselsEllerDNummer&quot;: &quot;09052400284&quot;,
                &quot;identifikatortype&quot;: &quot;foedselsnummer&quot;
            }
        ],
        &quot;status&quot;: [
            {
                &quot;ajourholdstidspunkt&quot;: &quot;2019-06-05T09:33:23+02:00&quot;,
                &quot;erGjeldende&quot;: true,
                &quot;kilde&quot;: &quot;&quot;,
                &quot;aarsak&quot;: &quot;Innvandring&quot;,
                &quot;gyldighetstidspunkt&quot;: &quot;2019-06-05T09:33:23+02:00&quot;,
                &quot;status&quot;: &quot;bosatt&quot;
            }
        ],
        &quot;kjoenn&quot;: [
            {
                &quot;ajourholdstidspunkt&quot;: &quot;2019-06-05T09:33:23+02:00&quot;,
                &quot;erGjeldende&quot;: true,
                &quot;kilde&quot;: &quot;&quot;,
                &quot;aarsak&quot;: &quot;Innvandring&quot;,
                &quot;gyldighetstidspunkt&quot;: &quot;2019-06-05T00:00:00+02:00&quot;,
                &quot;kjoenn&quot;: &quot;kvinne&quot;
            }
        ],
        &quot;foedsel&quot;: [
            {
                &quot;ajourholdstidspunkt&quot;: &quot;2019-06-05T09:33:23+02:00&quot;,
                &quot;erGjeldende&quot;: true,
                &quot;kilde&quot;: &quot;&quot;,
                &quot;aarsak&quot;: &quot;Innvandring&quot;,
                &quot;gyldighetstidspunkt&quot;: &quot;2019-06-05T00:00:00+02:00&quot;,
                &quot;foedselsdato&quot;: &quot;1924-05-09&quot;,
                &quot;foedselsaar&quot;: &quot;1924&quot;,
                &quot;foedested&quot;: &quot;&quot;,
                &quot;foedeland&quot;: &quot;CAN&quot;
            }
        ],
        &quot;sivilstand&quot;: [
            {
                &quot;ajourholdstidspunkt&quot;: &quot;2019-06-05T09:33:23+02:00&quot;,
                &quot;erGjeldende&quot;: true,
                &quot;kilde&quot;: &quot;&quot;,
                &quot;aarsak&quot;: &quot;Innvandring&quot;,
                &quot;gyldighetstidspunkt&quot;: &quot;2019-06-05T00:00:00+02:00&quot;,
                &quot;sivilstand&quot;: &quot;gjenlevendePartner&quot;
            }
        ],
        &quot;navn&quot;: [
            {
                &quot;ajourholdstidspunkt&quot;: &quot;2019-06-05T09:33:23+02:00&quot;,
                &quot;erGjeldende&quot;: true,
                &quot;kilde&quot;: &quot;&quot;,
                &quot;aarsak&quot;: &quot;Innvandring&quot;,
                &quot;gyldighetstidspunkt&quot;: &quot;2019-06-05T00:00:00+02:00&quot;,
                &quot;fornavn&quot;: &quot;FORSTÅELSESFULL&quot;,
                &quot;etternavn&quot;: &quot;RULLETRAPP&quot;
            }
        ],
        &quot;bostedsadresse&quot;: [
            {
                &quot;ajourholdstidspunkt&quot;: &quot;2019-06-05T09:33:23+02:00&quot;,
                &quot;erGjeldende&quot;: true,
                &quot;kilde&quot;: &quot;&quot;,
                &quot;aarsak&quot;: &quot;Innvandring&quot;,
                &quot;gyldighetstidspunkt&quot;: &quot;2019-05-31T00:00:00+02:00&quot;,
                &quot;matrikkeladresse&quot;: {
                    &quot;bruksenhetsnummer&quot;: &quot;&quot;,
                    &quot;matrikkelnummer&quot;: {
                        &quot;kommunenummer&quot;: &quot;0301&quot;,
                        &quot;gaardsnummer&quot;: 0,
                        &quot;bruksnummer&quot;: 27,
                        &quot;festenummer&quot;: 0
                    },
                    &quot;undernummer&quot;: 0,
                    &quot;poststed&quot;: {
                        &quot;poststedsnavn&quot;: &quot;OSLO&quot;,
                        &quot;postnummer&quot;: &quot;1163&quot;
                    },
                    &quot;coAdressenavn&quot;: &quot;&quot;
                },
                &quot;adressegradering&quot;: &quot;ugradert&quot;,
                &quot;flyttedato&quot;: &quot;2019-05-31&quot;
            }
        ],
        &quot;postadresse&quot;: [
          {
          &quot;hendelsedataId&quot;: &quot;445668dc-8aa5-49c6-ad06-8bd2755df897&quot;,
          &quot;kilde&quot;: &quot;KILDE_DSF&quot;,
          &quot;saksreferanse&quot;: &quot;SAKSREFERANSE_MIGRERING&quot;,
          &quot;erGjeldende&quot;: true,
          &quot;gyldighetstidspunkt&quot;: &quot;2008-08-08T00:00:00+02:00&quot;,
          &quot;postadresseIFrittFormat&quot;: {
            &quot;adresselinje&quot;: [
              &quot;GATE 22255&quot;
            ],
            &quot;postnummer&quot;: &quot;9170&quot;,
            &quot;poststed&quot;: &quot;LONGYEARBYEN&quot;
           },
           &quot;adressegradering&quot;: &quot;UGRADERT&quot;
         }
        ],
        &quot;preferertKontaktadresse&quot;: [
        {
          &quot;kilde&quot;: &quot;&quot;,
          &quot;saksreferanse&quot;: &quot;&quot;,
          &quot;erGjeldende&quot;: true,
          &quot;valg&quot;: &quot;POSTADRESSE&quot;,
          &quot;adressegradering&quot;: &quot;UGRADERT&quot;,
          &quot;kontaktadresseIFrittFormat&quot;: {
            &quot;adresselinje&quot;: [
              &quot;GATE 22255&quot;,
              &quot;9170 LONGYEARBYEN&quot;
            ]
          }
        }
      ]    
    }
    </code></pre>
    <p>Eksempel på dataminimering ved oppslag på en person (GET .../personer/01104200113?part=status):</p>
    <pre><code class="lang-json">
    {
        &quot;identifikasjonsnummer&quot;: [
            {
                &quot;ajourholdstidspunkt&quot;: &quot;2019-02-07T16:03:19+01:00&quot;,
                &quot;erGjeldende&quot;: true,
                &quot;kilde&quot;: &quot;dsf-folkeregister-synkronisering&quot;,
                &quot;gyldighetstidspunkt&quot;: &quot;2019-02-07T00:00:00+01:00&quot;,
                &quot;status&quot;: &quot;iBruk&quot;,
                &quot;foedselsEllerDNummer&quot;: &quot;01104200113&quot;,
                &quot;identifikatortype&quot;: &quot;foedselsnummer&quot;
            }
        ],
        &quot;status&quot;: [
            {
                &quot;ajourholdstidspunkt&quot;: &quot;2019-02-07T16:03:19+01:00&quot;,
                &quot;erGjeldende&quot;: true,
                &quot;kilde&quot;: &quot;&quot;,
                &quot;aarsak&quot;: &quot;Uregistrert person&quot;,
                &quot;gyldighetstidspunkt&quot;: &quot;2019-02-07T16:03:19+01:00&quot;,
                &quot;status&quot;: &quot;ikkeBosatt&quot;
            }
        ]
    }
    </code></pre>
    <p>Eksempel på bulkoppslag med dataminimering (POST .../personer/bulkoppslag/?part=status):</p>
    <pre><code class="lang-json">
    {
      &quot;foedselsEllerDNummer&quot;: [
        &quot;29084902258&quot;
      ]
    }
    </code></pre>
    <p>Svar:</p>
    <pre><code class="lang-json">
    {
        &quot;oppslag&quot;: [
            {
                &quot;foedselsEllerDNummer&quot;: &quot;29084902258&quot;,
                &quot;folkeregisterperson&quot;: {
                    &quot;identifikasjonsnummer&quot;: [
                        {
                            &quot;ajourholdstidspunkt&quot;: &quot;2019-04-16T14:38:41.098+02:00&quot;,
                            &quot;erGjeldende&quot;: true,
                            &quot;kilde&quot;: &quot;KILDE_DSF&quot;,
                            &quot;status&quot;: &quot;iBruk&quot;,
                            &quot;foedselsEllerDNummer&quot;: &quot;29084902258&quot;,
                            &quot;identifikatortype&quot;: &quot;foedselsnummer&quot;
                        }
                    ],
                    &quot;status&quot;: [
                        {
                            &quot;ajourholdstidspunkt&quot;: &quot;2019-04-16T14:38:41.098+02:00&quot;,
                            &quot;erGjeldende&quot;: true,
                            &quot;kilde&quot;: &quot;KILDE_DSF&quot;,
                            &quot;gyldighetstidspunkt&quot;: &quot;2019-04-16T14:38:41.098+02:00&quot;,
                            &quot;status&quot;: &quot;bosatt&quot;
                        }
                    ]
                }
            }
        ]
    }
    </code></pre>
    <p>Eksempel på entydig søk med dataminimering (GET .../personer/entydigsoek?identifikasjonsnummer=09052400284&amp;navn=RULLETRAPP&amp;part=navn):</p>
    <pre><code class="lang-json">
    {
        &quot;identifikasjonsnummer&quot;: [
            {
                &quot;ajourholdstidspunkt&quot;: &quot;2019-02-07T16:03:19+01:00&quot;,
                &quot;erGjeldende&quot;: true,
                &quot;kilde&quot;: &quot;dsf-folkeregister-synkronisering&quot;,
                &quot;gyldighetstidspunkt&quot;: &quot;2019-02-07T00:00:00+01:00&quot;,
                &quot;status&quot;: &quot;iBruk&quot;,
                &quot;foedselsEllerDNummer&quot;: &quot;09052400284&quot;,
                &quot;identifikatortype&quot;: &quot;foedselsnummer&quot;
            }
        ],
        &quot;navn&quot;: [
            {
                &quot;ajourholdstidspunkt&quot;: &quot;2019-06-05T09:33:23+02:00&quot;,
                &quot;erGjeldende&quot;: true,
                &quot;kilde&quot;: &quot;&quot;,
                &quot;aarsak&quot;: &quot;Innvandring&quot;,
                &quot;gyldighetstidspunkt&quot;: &quot;2019-06-05T00:00:00+02:00&quot;,
                &quot;fornavn&quot;: &quot;FORSTÅELSESFULL&quot;,
                &quot;etternavn&quot;: &quot;RULLETRAPP&quot;
            }
        ]
    }
    
    </code></pre>
    <h3 id="feilkoder">Feilkoder</h3>
    <p>Hvis statuskode hverken er 200 eller 304, men man får svar fra applikasjonen, så returneres en datastruktur som ser slik ut</p>
    <pre><code class="lang-json">
    {
      &quot;kode&quot;: &quot;FREG-001&quot;,
      &quot;melding&quot;: &quot;Feil i tjenesten. Vennligst prøv igjen seinere.&quot;
    }
    </code></pre>
    <table>
    <thead>
    <tr>
    <th>HTTP Statuskode</th>
    <th>Forklaring</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>401</td>
    <td>Autentiseringsinformasjon mangler</td>
    </tr>
    <tr>
    <td>403</td>
    <td>Virksomheten er autentisert men mangler autorisasjon for den angitte tjenesten</td>
    </tr>
    <tr>
    <td>404</td>
    <td>Feil uri brukt.</td>
    </tr>
    <tr>
    <td>406</td>
    <td>Oppgitt Accept-header inneholder ikke &#39;application/xml&#39; eller &#39;application/json&#39;, dersom Content-Type er satt ved bulkoppslag så vil returen være lik Content-Type dersom Accept-headeren er tom og returkoden vil da bli 200.</td>
    </tr>
    <tr>
    <td>429</td>
    <td>For mange kall er gjort på for kort tid. Vent i minimum antall ms. angitt i Retry-After-header før neste request utføres</td>
    </tr>
    <tr>
    <td>500</td>
    <td>Feil i tjenesten. Vennligst prøv igjen seinere.</td>
    </tr>
    </tbody>
    </table>
    
        </div>
      </div>
    </div>
  </div>
</div>
</body>
</html>
