<!doctype html>
<html>
<head>
  <meta charset="utf-8"  />
  <link rel="stylesheet" href="../css/normalize.css">
  <link rel="stylesheet" href="../css/style.css">
  <title>Oppslag</title>
</head>
<body>
<div>
  <header class="header" role="banner">
    <div class="meta header-meta">
      <div class="header-bakgrunn"></div>

      <div class="header-meta-innhold">
        <div class="header-logo">
        </div>

        <div class="header-apptittel">
          <span class="header-applikasjonsnavn">Folkeregisteret</span>
          Api dokumentasjon
        </div>
      </div>
    </div>

    <div class="header-sidetittel">
      <h1>
        <span class="header-undertittel">Oppslag</span>
      </h1>
    </div>
  </header>

  <div class="content">
    <div class="meta">
      <div class="sideblokk-seksjon navig">
        <div>Om tjenestene</div>
        <a href="../">Hjem</a>
          <a href="sikkerhet">Sikkerhet</a>
          <a href="versjonering">Versjonering</a>
        <div>Produsenttjenester</div>
          <a href="tilbakemelding">Tilbakemelding</a>

        <div>Konsumenttjenester</div>
          <a href="hendelsesliste">Hendelsesliste</a>
          <a href="oppslag">Oppslag</a>
      </div>
    </div>

    <div class="data">
      <div class="innhold-blokk">
        <div class="innhold-blokk-innhold">
          <h1 id="grensesnittbeskrivelse">Grensesnittbeskrivelse</h1>
<p>Oppslagstjenesten gir tilgang til data om en person. Tjenesten tilbyr to forskjellige oppslag</p>
<table>
<thead>
<tr>
<th>Ressurs</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>Siste versjon av person</td>
<td><code>https://{miljø}/offentlig-med-hjemmel/api/{versjon}/personer/{folkeregisteridentifikator}</code></td>
</tr>
<tr>
<td>Arkivert versjon av person</td>
<td><code>https://{miljø}/offentlig-med-hjemmel/api/{versjon}/personer/arkiv/{persondokument}</code></td>
</tr>
</tbody>
</table>
<p>Eksempel på curl-kommando som kan benyttes for å teste tjenesten:</p>
<p><code>$ curl -k -v -X HEAD --cert datakonsument.cer --key datakonsument.key &quot;https://folkeregisteret-api-ekstern.sits.no/folkregisteret/offentlig-med-hjemmel/api/v1/hendelser/feed&quot;</code></p>
<h2 id="headere">Headere</h2>
<p><strong>Accept</strong></p>
<p>Verdien i denne headeren angir ønsket dataformat. Det er støtte for application/json (default) og application/xml</p>
<h2 id="eksempel-p-respons-fra-tjenesten">Eksempel på respons fra tjenesten</h2>
<h3 id="statuskode-200">Statuskode 200</h3>
<p>Eksempel på svar ved oppslag på en arkivert eller oppdatert versjon av en person:</p>
<pre><code class="lang-json">{
  &quot;identifikasjonsnummer&quot;: [
    {
      &quot;ajourholdstidspunkt&quot;: &quot;2017-09-26T11:08:20.744+02:00&quot;,
      &quot;erGjeldende&quot;: true,
      &quot;kilde&quot;: &quot;SKATTEETATEN&quot;,
      &quot;gyldighetstidspunkt&quot;: &quot;2017-09-26T11:08:20.744+02:00&quot;,
      &quot;status&quot;: &quot;iBruk&quot;,
      &quot;foedselsEllerDNummer&quot;: &quot;69080275560&quot;,
      &quot;identifikatortype&quot;: &quot;dNummer&quot;
    }
  ],
  &quot;annenIdentifikasjon&quot;: [],
  &quot;identitetsgrunnlag&quot;: [
    {
      &quot;ajourholdstidspunkt&quot;: &quot;2017-09-26T11:08:24.528+02:00&quot;,
      &quot;erGjeldende&quot;: true,
      &quot;kilde&quot;: &quot;skatteetaten&quot;,
      &quot;aarsak&quot;: &quot;besluttetTildelingAvDNummer&quot;,
      &quot;gyldighetstidspunkt&quot;: &quot;2017-09-26T11:08:22.918+02:00&quot;,
      &quot;identitetsgrunnlagstatus&quot;: &quot;ikkeKontrollert&quot;,
      &quot;dokumentgrunnlag&quot;: []
    }
  ]
}
</code></pre>
<h3 id="feilkoder">Feilkoder</h3>
<p>Hvis statuskode hverken er 200 eller 304, men man får svar fra applikasjonen, så returneres en datastruktur som ser slik ut</p>
<pre><code class="lang-json">{
  &quot;kode&quot;: &quot;FREG-001&quot;,
  &quot;melding&quot;: &quot;Feil i tjenesten. Vennligst prøv igjen seinere.&quot;
}
</code></pre>
<table>
<thead>
<tr>
<th>HTTP Statuskode</th>
<th>Forklaring</th>
</tr>
</thead>
<tbody>
<tr>
<td>401</td>
<td>Autentiseringsinformasjon mangler</td>
</tr>
<tr>
<td>403</td>
<td>Virksomheten er autentisert men mangler autorisasjon for den angitte tjenesten</td>
</tr>
<tr>
<td>404</td>
<td>Feil uri brukt.</td>
</tr>
<tr>
<td>406</td>
<td>Oppgitt Accept-header inneholder ikke &#39;application/xml&#39; eller &#39;application/json&#39;</td>
</tr>
<tr>
<td>429</td>
<td>For mange kall er gjort på for kort tid. Vent i minimum antall ms. angitt i Retry-After-header før neste request utføres</td>
</tr>
<tr>
<td>500</td>
<td>Feil i tjenesten. Vennligst prøv igjen seinere.</td>
</tr>
</tbody>
</table>
<h2 id="milj-er">Miljøer</h2>
<table>
<thead>
<tr>
<th>Miljø</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>Test</td>
<td><a href="https://folkeregisteret-api-ekstern.sits.no/">https://folkeregisteret-api-ekstern.sits.no/</a></td>
</tr>
<tr>
<td>Produksjon</td>
<td><a href="https://folkeregisteret.api.skatteetaten.no/">https://folkeregisteret.api.skatteetaten.no/</a></td>
</tr>
</tbody>
</table>

        </div>
      </div>
    </div>
  </div>
</div>
<script src="http://localhost:35729/livereload.js?snipver=1"></script></body>
</html>